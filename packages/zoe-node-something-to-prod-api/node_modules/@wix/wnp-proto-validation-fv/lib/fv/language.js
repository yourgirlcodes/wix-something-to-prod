const {LANG_CODES} = require('../i18n');

module.exports = {
  messages: {
    'string.language': '\'{field}\' value \'{actual}\' is not a valid language code',
  },
  alias: 'language',
  schema: {
    type: 'custom',
    check(value, errors) {
      if (typeof value !== 'string') {
        errors.push({type: 'string', actual: value});
      } else if (!value || !LANG_CODES.has(value)) {
        errors.push({type: 'string.language', actual: value});
      }
      return value;
    }
  }
}; 