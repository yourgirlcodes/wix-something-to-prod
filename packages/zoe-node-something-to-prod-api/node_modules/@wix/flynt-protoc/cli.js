#!/usr/bin/env node
const isCI = require('is-ci');

if (isCI) {
  // eslint-disable-next-line node/no-missing-require
  require('./dist/lib/cli');
} else {
  //Dev machine. if fails to load cli, use ts-node
  try {
    // eslint-disable-next-line node/no-missing-require
    require('./dist/lib/cli');
  } catch (err) {
    if (err.code === 'MODULE_NOT_FOUND') {
      require('ts-node').register({transpileOnly: true});
      require('./lib/cli.ts');
    } else {
      throw err;
    }
  }
}
