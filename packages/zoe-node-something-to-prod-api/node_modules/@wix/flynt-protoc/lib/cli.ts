import {getProtocExec} from './protoc';
import {spawnSync} from 'child_process';

const args = process.argv.slice(2);
const proc = spawnSync(getProtocExec(), args, {
  // protoc accepts stdin for some commands, pipe all IO
  stdio: [process.stdin, process.stdout, process.stderr],
  shell: false
});
if (proc.error) {
  throw proc.error;
}
process.exit(proc.status!);
