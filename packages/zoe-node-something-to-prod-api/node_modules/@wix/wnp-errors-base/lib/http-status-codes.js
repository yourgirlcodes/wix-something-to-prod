const HttpStatus = require('http-status-codes');

const CANCELLED_STATUS_CODE = 499;
const CANCELLED_STATUS_CODE_STRING = CANCELLED_STATUS_CODE.toString();
const CANCELLED_STATUS_TEXT = 'Client Closed Request';

module.exports = {
  ...HttpStatus.StatusCodes,
  CANCELLED: CANCELLED_STATUS_CODE,
  getStatusCode: (text) => {
    if (text === CANCELLED_STATUS_TEXT) {
      return CANCELLED_STATUS_CODE;
    }

    return HttpStatus.getStatusCode(text);
  },
  getStatusText: (status) => {
    if (status === CANCELLED_STATUS_CODE || status === CANCELLED_STATUS_CODE_STRING) {
      return CANCELLED_STATUS_TEXT;
    }

    return HttpStatus.getReasonPhrase(status);
  }
};
