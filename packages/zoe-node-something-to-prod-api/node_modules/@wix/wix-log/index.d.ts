import {AspectStore} from '@wix/wix-aspects';

declare namespace WixDebug {

  type RequestWithAspects = {
    aspects: AspectStore;
  };

  export interface LoggerOptions {
    skipEnablingErrors?: boolean;
    customData?: object;
  }

  export type LogArg = any;

  export type LoggerFactory = (name: string) => Logger;

  export const ASPECT_LOGGER_FACTORY: any;

  export class Logger {
    constructor(name: string, requestData?: any, opts?: LoggerOptions);

    trace(message: string, ...args: LogArg[]): void;

    /**
     * @deprecated. use more specific signature instead
     */
    trace(...args: LogArg[]): void;

    debug(message: string, ...args: LogArg[]): void;

    /**
     * @deprecated. use more specific signature instead
     */
    debug(...args: LogArg[]): void;

    info(message: string, ...args: LogArg[]): void;

    /**
     * @deprecated. use more specific signature instead
     */
    info(...args: LogArg[]): void;

    warn(message: string, ...args: LogArg[]): void;

    /**
     * @deprecated. use more specific signature instead
     */
    warn(...args: LogArg[]): void;

    error(message: string, error: Error, ...args: LogArg[]): void;
    error(error: Error, ...args: LogArg[]): void;
    error(message: string, ...args: LogArg[]): void;

    /**
     * @deprecated. use more specific signature instead
     */
    error(...args: LogArg[]): void;


    withRequest(req: RequestWithAspects): Logger;

    withAspects(aspects: AspectStore): Logger;

    withData(data: object): Logger;
  }
}

declare function WixDebug(name: string): WixDebug.Logger;

export = WixDebug;

