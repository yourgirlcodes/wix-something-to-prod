syntax = "proto3";

package wix.api.funnel.builder.v2;

import "wix/api/validations.proto";
import "wix/api/annotations.proto";
import "google/api/annotations.proto";
import "google/protobuf/wrappers.proto";
import "wix/api/funnel/builder/v2/flow.proto";
import "wix/api/funnel/builder/v2/page.proto";

service PageContentService {

    rpc GetPageContent (GetPageContentRequest) returns (GetPageContentResponse) {
        // note: POST method is used here to simplify complex request data serialization/deserialization
        option (google.api.http).post = "/v2/page-content/{page_id}";
        option (wix.api.exposure) = INTERNAL;
        option (wix.api.maturity) = ALPHA;
        option (wix.api.required) = "GetPageContentRequest.page_id";
    }

}

message GetPageContentRequest {
    string page_id = 1 [(wix.api.format) = GUID];

    google.protobuf.StringValue snapshot_id = 2 [(wix.api.format) = GUID];

    FlowContext flow_context = 3;
}

message GetPageContentResponse {
    Page page = 1;
}
