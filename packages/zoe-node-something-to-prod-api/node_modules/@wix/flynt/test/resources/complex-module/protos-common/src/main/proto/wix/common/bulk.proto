syntax = "proto3";

package wix.common;

option java_multiple_files = true;
option java_package = "com.wix.common";

import "google/protobuf/wrappers.proto";
import "wix/api/errors.proto";

message BulkActionMetadata {
    // For how many items the requested action was successful 
    uint32 total_successes = 1;
    // For how many items the requested action was not successful 
    uint32 total_failures = 2;
}

message ItemMetadata {
    // Item id. Should always be provided, unless it's impossible (e.g when failing to create an item)
    google.protobuf.StringValue id = 1;
    // The index of the item within the request array to allow the caller to correlate the request and response items
    uint32 original_index = 2;
    // Whether the action requested was successful for this item. When this value is false, error should be populated
    bool success = 3;
    // In case of failure, details about the error
    .wix.api.ApplicationError error = 4;
}

/*

Example for using it in your service:

message BulkOrderResult {
    ItemMetadata item_metadata = 1;
    Order item = 2;
}

message BulkArchiveOrdersResponse {
    repeated BulkOrderResult results = 1;
    BulkActionMetadata bulk_action_metadata = 2;
}

*/
