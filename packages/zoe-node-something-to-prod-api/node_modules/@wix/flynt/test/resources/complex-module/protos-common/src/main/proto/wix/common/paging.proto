syntax = "proto3";

package wix.common;

import "google/protobuf/wrappers.proto";
import "wix/api/annotations.proto";
import "wix/api/validations.proto";

option java_multiple_files = true;
option java_package = "com.wix.common";

message Paging {
    option (.wix.api.decomposition_minimum_fields) = {
        field: "limit"
        field: "offset"
    };
    // The number of items to load
    google.protobuf.Int32Value limit = 1 [(.wix.api.min) = 0];
    // number of items to skip in the current sort order
    google.protobuf.Int32Value offset = 2 [(.wix.api.min) = 0];
}

message CursorPaging {
    option (.wix.api.decomposition_minimum_fields) = {
        field: "limit"
        field: "cursor"
    };
    // The number of items to load
    google.protobuf.Int32Value limit = 1 [(.wix.api.min) = 0];
    // Cursor returned in last query response. Should not be provided on first page request
    google.protobuf.StringValue cursor = 2;
}

message PagingMetadata {
    option (.wix.api.decomposition_minimum_fields) = {
        field: "count"
        field: "offset"
    };
    // The number of items returned in this response
    google.protobuf.Int32Value count = 1;
    // The offset which was requested
    google.protobuf.Int32Value offset = 2;
    // The total number of items that match the query
    google.protobuf.Int32Value total = 3;
    // A flag that indicates the server failed to calculate 'total' field
    google.protobuf.BoolValue too_many_to_count = 4;
}

message PagingMetadataV2 {
    option (.wix.api.decomposition_minimum_fields) = {
        field: "count"
        field: "offset"
        field: "cursors"
    };
    // The number of items returned in this response
    google.protobuf.Int32Value count = 1;
    // The offset which was requested. Returned if offset paging was used
    google.protobuf.Int32Value offset = 2;
    // The total number of items that match the query. Returned if offset paging was used and 'too_many_to_count' flag is not set
    google.protobuf.Int32Value total = 3;
    // A flag that indicates the server failed to calculate 'total' field
    google.protobuf.BoolValue too_many_to_count = 4;
    // Cursors to navigate through result pages. Returned if cursor paging was used
    Cursors cursors = 5;
}

message Cursors {
    option (.wix.api.decomposition_minimum_fields) = {
        field: "next"
        field: "prev"
    };
    // Cursor pointing to next result page
    google.protobuf.StringValue next = 1;
    // Cursor pointing to previous result page
    google.protobuf.StringValue prev = 2;
}
