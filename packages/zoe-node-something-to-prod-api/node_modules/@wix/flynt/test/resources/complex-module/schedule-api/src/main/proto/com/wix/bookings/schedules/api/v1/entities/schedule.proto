syntax = "proto3";

package com.wix.bookings.schedules.api.v1;

import "wix/api/validations.proto";
import "google/protobuf/wrappers.proto";
import "google/protobuf/timestamp.proto";
import "com/wix/bookings/common/api/v1/entities/rate.proto";
import "com/wix/bookings/schedules/api/v1/entities/properties/availability.proto";
import "com/wix/bookings/schedules/api/v1/entities/properties/externalCalendar.proto";
import "com/wix/bookings/schedules/api/v1/entities/properties/recurringInterval.proto";
import "com/wix/bookings/schedules/api/v1/entities/participant.proto";
import "com/wix/bookings/common/api/v1/entities/location.proto";
import "com/wix/bookings/schedules/api/v1/entities/properties/conferencing.proto";
import "wix/api/annotations.proto";

message Schedule {
    //Schedule ID.
    string id = 1;
    //ID of the schedule's owner entity. This may be a resource ID or a service ID.
    google.protobuf.StringValue schedule_owner_id = 2;
    //Start time of the first session in the schedule.
    google.protobuf.Timestamp first_session_start = 3 [(.wix.api.readOnly) = true, (.wix.api.field_exposure) = INTERNAL];
    //End time of the last session in the schedule.
    google.protobuf.Timestamp last_session_end = 4 [(.wix.api.readOnly) = true, (.wix.api.field_exposure) = INTERNAL];
    //Schedule's time zone in [Area/Location](https://en.wikipedia.org/wiki/Tz_database) format.

    google.protobuf.StringValue timeZone = 5;
    //Specifies the intervals for the sessions calculation. Optional. e.g. when creating class service you can add
    //pattern for recurring intervals, these intervals can be returned as schedule's sessions or available slots if
    //there are no other availability calculation constraints and the capacity is bigger then the current total number of sessions' participants.
    repeated RecurringInterval intervals = 7 [deprecated = true];
    //Default title for the schedule's sessions. Maximum length: 6000 characters.
    google.protobuf.StringValue title = 9 [(.wix.api.maxLength) = 6000];
    //Tags for grouping schedules. These tags are the default tags for the schedule's sessions.
    //The Wix Bookings app uses the following predefined tags to set schedule type: `"INDIVIDUAL"`, `"GROUP"`, and `"COURSE"`. Once the schedule type is set using these tags, you cannot update it. In addition to the app's tags, you can create and update your own tags.
    repeated google.protobuf.StringValue tags = 10;
    //Default location for the schedule's sessions.
    com.wix.bookings.common.api.v1.Location location = 11;
    //Maximum number of participants that can be added to the schedule's sessions. Default is 1.
    google.protobuf.Int32Value capacity = 12 [(.wix.api.min) = 1, (.wix.api.max) = 1000];
    //Price options offered when booking this schedule's slots. Default is no rate.
    com.wix.bookings.common.api.v1.Rate rate = 13;
    //An object describing how to calculate the schedule's availability.
    //An empty object indicates that the schedule is not available for booking.
    Availability availability = 14;
    //Number of participants registered to sessions in this schedule, calculated as the sum of the party sizes.
    int32 total_number_of_participants = 15 [(.wix.api.readOnly) = true];
    //Participants currently registered to sessions in this schedule.
    //Participants who are registered in the schedule are automatically registered to any session that is created for the schedule.
    repeated Participant participants = 16 [(.wix.api.readOnly) = true];
   //Title and description values to override session defaults when syncing to an external calendar.
    //Learn more about [syncing calendars](https://support.wix.com/en/article/wix-bookings-important-information-about-syncing-google-calendars-with-wix-bookings).
    ExternalCalendarOverrides external_calendar_overrides = 17;
    //Schedule status.
    ScheduleStatus status = 18 [(.wix.api.readOnly) = true];
    //Schedule creation date.
    google.protobuf.Timestamp created = 19 [(.wix.api.readOnly) = true];
    //Schedule last update date.
    google.protobuf.Timestamp updated = 20 [(.wix.api.readOnly) = true];
    //Schedule version number, updated each time the schedule is updated.
    int32 version = 21 [(.wix.api.readOnly) = true];
    //Fields which were inherited from the Business Info page under Settings in the Dashboard.
    repeated string inherited_fields = 22 [(.wix.api.readOnly) = true];
    //Conferencing Provider. A schedule with a conferencing provider will use to provider information to create a conference on the provider's system when a session is created on the schedule or on one of its linked schedule's.
    ConferenceProvider conference_provider = 23 [deprecated = true];
    //A conference created for the schedule. This is used when a participant is added to a schedule.
    CalendarConference calendar_conference = 24;



    enum ScheduleStatus {
        UNDEFINED = 0;
        CREATED = 1; // The default value when the schedule is created.
        CANCELLED = 2; // The schedule has been canceled.
    }
}


