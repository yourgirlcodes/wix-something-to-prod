"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.rule = void 0;
const options_utils_1 = require("../../options-utils");
exports.rule = {
    description: 'A REST path url must start with an API version',
    moreInfoUrl: 'https://bo.wix.com/wix-docs/rnd/platformization-guidelines/protobuf#platformization-guidelines_protobuf_rest',
    run(ctx) {
        ctx.visit({
            visitMethod(method) {
                const path = (0, options_utils_1.getRestPath)(method);
                if (!path) {
                    return false;
                }
                ctx.assert(/^\/v([1-9][0-9]*)+\//.test(path), {
                    errorAt: method,
                    message: `The REST path: '${path}', for method: '${method.name}', must start with a version '/v1/'`
                });
            }
        });
    }
};
//# sourceMappingURL=index.js.map