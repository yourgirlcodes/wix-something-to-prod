# test-rule-proto-root

This rule helps to validate the value of the [`mainProtoFolder`](../../README.md#cli-options) argument passed to flynt
in cases where this folder is not actually used to find and parse proto file (i.e. Bazel)
if you provide a .proto file with a service name that contains `proto_xsyaiqjxksxdhsanpklg`
then that service leading comment is assumed to be a path and the
rule will **fail** if a file with this path exists relative to the `mainProtoFolder`

To use this rule create the following structure in the proto module used for testing:
```
module
└── proto
    ├── foo
    │   └── service.proto
    └── docs
        └── doc.yaml
```

The service.proto file should look like this:
```proto
syntax = "proto3";

package foo;

//docs/doc.yaml
service Service_proto_xsyaiqjxksxdhsanpklg {
  rpc SomeMethod (Message) returns (Message) {
  }
}

message Message {

}
```

*Note: The `//docs/doc.yaml` can be a path of your choice*

to work correctly, the `moduleRootFolder` argument that is passed to flynt should point to the `module` folder while the proto root folder should be `module/proto`
