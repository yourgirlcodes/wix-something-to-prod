syntax = "proto2";

package wix.api;

import "google/protobuf/descriptor.proto";

option java_multiple_files = true;
option java_outer_classname = "ActionPayloadProto";
option java_package = "com.wix.api";

/*
action_payload option is used to configure custom slugs for the payload type of a DomainEvent Action:
service BlooperService {
   option (wix.api.service_entity).message = "com.wixpress.examples.Blooper"; //the "main" entity
   rpc MissedBlooper (MissedBlooperRequest) returns (MissedBlooperResponse) {
       option (wix.api.callback) = {
           event_type: Action
           payload: "com.wixpress.examples.BlooperWasMissed"
       };
   };
}
message BlooperWasMissed {
   option (wix.api.action_payload).custom_slug = "super_custom_slug"; // only define if the default slug value (snake case of the message name) is out of the question
    int32 how_funny_it_could_have_been = 1;
}
*/
extend google.protobuf.MessageOptions {
    optional ActionPayload action_payload = 50600;
}

message ActionPayload {
    optional string custom_slug = 1;
}
