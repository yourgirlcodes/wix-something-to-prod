syntax = "proto3";

package com.wix.bookings.upstream.wix.common;

option java_multiple_files = true;
option java_package = "com.wix.bookings.upstream.wix.common";

import "google/protobuf/wrappers.proto";
import "wix/api/validations.proto";

//A common address format to use if you plan to store addresses in your service

//Physical address
message Address {
    google.protobuf.StringValue country = 1 [(.wix.api.format) = COUNTRY]; //Country code.
    google.protobuf.StringValue subdivision = 2; //Subdivision. Usually state, region, prefecture or province code, according to [ISO 3166-2](https://en.wikipedia.org/wiki/ISO_3166-2).
    google.protobuf.StringValue city = 3; // City name.
    google.protobuf.StringValue postal_code = 4; // Zip/postal code.
    oneof street {
        StreetAddress street_address = 5; // Street name, number and apartment number.
        google.protobuf.StringValue address_line = 6; // Main address line, usually street and number, as free text.
    }
    google.protobuf.StringValue address_line_2 = 7; // Free text providing more detailed address info. Usually contains Apt, Suite, and Floor.
    google.protobuf.StringValue formatted_address = 8; // A string containing the full address of this location.
    google.protobuf.StringValue hint = 9; // Free text to help find the address.
    AddressLocation geocode = 10; // Coordinates of the physical address.
    google.protobuf.StringValue country_fullname = 11; // Country full name.
    repeated Subdivision subdivisions = 12; // Multi-level subdivisions from top to bottom.
}

message Subdivision {
    string code = 1; // Subdivision code. Usually state, region, prefecture or province code, according to [ISO 3166-2](https://en.wikipedia.org/wiki/ISO_3166-2).
    string name = 2; // Subdivision full name.
}

message StreetAddress {
    string number = 1; // Street number.
    string name = 2; // Street name.
    string apt = 3; // Apartment number.
}

//Contact details for the address
message AddressContactDetails {
    google.protobuf.StringValue full_name = 1; // Full name.
    google.protobuf.StringValue phone = 2 [(.wix.api.format) = PHONE]; //Phone number.
    google.protobuf.StringValue company = 3; // Company name.
    google.protobuf.StringValue email = 4 [(.wix.api.format) = EMAIL]; // Email address.
}

//Full contact details for an address
message FullAddressContactDetails {
    google.protobuf.StringValue first_name = 1; // First name.
    google.protobuf.StringValue last_name = 2; // Last Name.
    google.protobuf.StringValue phone = 3 [(.wix.api.format) = PHONE]; //Phone number.
    google.protobuf.StringValue company = 4; // Company name.
    google.protobuf.StringValue email = 5 [(.wix.api.format) = EMAIL]; // Email address.
    VatId vat_id = 7; // Tax information. (Currently for Brazil only.)
}

message VatId {
    // Customer's tax ID
    string id = 1;
    // tax type
    VatType type = 2;
}

// tax info types
enum VatType {
    UNSPECIFIED = 0;
    // CPF - For individual tax payers.
    CPF = 1;
    // CNPJ - For corporations.
    CNPJ = 2;
}

message AddressLocation {
    google.protobuf.DoubleValue latitude = 1; //  Address latitude.
    google.protobuf.DoubleValue longitude = 2; // Address longitude.
}
