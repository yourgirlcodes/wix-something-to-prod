syntax = "proto3";

package com.wixpress.locations;

option java_multiple_files = true;
option java_package = "com.wixpress.locations";

import "google/protobuf/wrappers.proto";
import "wix/api/validations.proto";
import "wix/api/entity.proto";
import "com/wixpress/siteproperties/api/v4/properties.proto";
import "wix/api/annotations.proto";

message Location {
    option (wix.api.entity).fqdn = "wix.locations.v1.location";
    google.protobuf.StringValue id = 1 [(wix.api.format) = GUID, (.wix.api.readOnly) = true]; // ID of the location.
    string name = 2 [(.wix.api.maxLength) = 150]; // Display name of the location.
    google.protobuf.StringValue description = 3 [(.wix.api.maxLength) = 500]; // Free text for describing the location.
    bool default = 4 [(.wix.api.readOnly) = true]; /*
        Whether this is the default location.
        There can only be one default location per site. Changes to the default location are made on the **Site Properties** page of the dashboard.
        The default location can't be deleted. 
        <!-- and can be only marked through SetDefaultLocation api -->
    */
    LocationStatus status = 5; // Status of the location. Default is `"ACTIVE"`
    LocationType location_type = 6; // Type of the location.
    google.protobuf.StringValue fax = 7; // Fax number.
    google.protobuf.StringValue time_zone = 8; // Time zone.
    google.protobuf.StringValue email = 9 [(wix.api.pii) = true]; // Email address.
    google.protobuf.StringValue phone = 10 [(wix.api.pii) = true];  // Phone number.
    Address address = 11; // Address
    com.wixpress.siteproperties.api.v4.BusinessSchedule business_schedule = 12; /*
        Represents the time periods that this location is open for business. Holds a collection of TimePeriod instances.
        TimePeriod indicates when the location is open. Each period represents a range of hours when the location is
        open during the week. Limited to 100 time periods.
    */
    google.protobuf.UInt64Value revision = 13; // Location revision, represents the number of changes to the location.
    bool archived = 14 [(.wix.api.readOnly) = true]; /*
         Whether the location is archived.
         Archived locations can't be updated.
    */
}

// For future use
enum LocationStatus {
    ACTIVE = 0;
    IN_ACTIVE = 1;
}

// For future use
enum LocationType {
    UNKNOWN = 0;
    BRANCH = 1;
    OFFICES = 2;
    RECEPTION = 3;
    HEADQUARTERS = 4;
}

message Address {
    option (.wix.api.decomposite_of) = "wix.common.Address";
    google.protobuf.StringValue country = 1 [(wix.api.format) = COUNTRY, (wix.api.pii) = true]; //Country code.
    google.protobuf.StringValue subdivision = 2 [(wix.api.pii) = true]; //Subdivision. Usually state, region, prefecture or province code, according to [ISO 3166-2](https://en.wikipedia.org/wiki/ISO_3166-2).
    google.protobuf.StringValue city = 3 [(wix.api.pii) = true]; // City name.
    google.protobuf.StringValue postal_code = 4 [(wix.api.pii) = true]; // Zip/postal code.
    StreetAddress street_address = 5; // Street name, number, and apartment number.
    google.protobuf.StringValue formatted_address = 6 [(wix.api.pii) = true]; // A string containing the full address of this location.
    google.protobuf.StringValue hint = 7 [(wix.api.pii) = true]; // Free text to help find the address.
    AddressLocation geocode = 8; // Coordinates of the physical address.
}

// Street name, number, and apartment number.
message StreetAddress {
    string number = 1 [(wix.api.pii) = true]; // Street number.
    string name = 2 [(wix.api.pii) = true]; // Street name.
    string apt = 3 [(wix.api.pii) = true]; // Apartment number.
}

// Address Geolocation
message AddressLocation {
    google.protobuf.DoubleValue latitude = 1 [(wix.api.pii) = true]; // Address latitude.
    google.protobuf.DoubleValue longitude = 2 [(wix.api.pii) = true]; // Address longitude.
}
