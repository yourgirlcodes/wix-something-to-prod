syntax = "proto3";

package com.wixpress.siteproperties.api.v4;

import "google/api/annotations.proto";
import "google/protobuf/wrappers.proto";
import "wix/api/annotations.proto";


message Categories {
    string primary = 1; // Site primary category.
    repeated string secondary = 2; // Site secondary category.
}

message Locale {
    string language_code = 1; // Language code (ISO 639-1).
    string country = 2; // Country code (ISO 3166-1).
}

message SupportedLanguage {
    string language_code = 1; // Language code (ISO 639-1).
    Locale locale = 2; // Locale.
    bool isPrimary = 4; // Whether the supported language is the primary language for the site.
    string country_code = 5; // Language icon.
    ResolutionMethod resolution_method = 6; // How the language will be resolved. For internal use.
}

enum ResolutionMethod {
    QUERY_PARAM = 0;
    SUBDOMAIN = 1;
    SUBDIRECTORY = 2;
}

message Multilingual {  // Languages supported on a multilingual site.
    repeated SupportedLanguage supportedLanguages = 1;
    bool auto_redirect = 2; // Redirect to user language.
}

message Address { // Represents a single street address (which may or may not represent an actual, physical location).
    string street = 1 [(wix.api.pii) = true]; // Street name.
    string city = 2 [(wix.api.pii) = true]; // City.
    string country = 3 [(wix.api.pii) = true]; // Country code (2 alphanumeric characters per ISO 3166-1).
    string state = 4 [(wix.api.pii) = true]; // State (if applicable).
    string zip = 5 [(wix.api.pii) = true]; // Zip code.
    AddressHint hint = 6; // Extra information to be displayed in the address.
    bool is_physical = 7; // Whether this address represents a physical location.
    string google_formatted_address = 8 [(wix.api.pii) = true]; // A Google-formatted version of this address (acceptable to most APIs).
    string street_number = 9 [(wix.api.pii) = true]; // Street number.
    string apartment_number = 10 [(wix.api.pii) = true]; // Apartment number (if applicable).
    GeoCoordinates coordinates = 11; // Geocoordinates.
}

/*
    Extra information on displayed addresses.
    This is used for display purposes. Used to add additional data about the address, such as "In the passage".
    Free text. In addition the user can state where he wants that additional description - before, after, or instead
    the address string.
*/
message AddressHint {
    string text = 1 [(wix.api.pii) = true]; // Extra text displayed next to, or instead of, the actual address.
    PlacementType placement = 2; // Where the extra text should be displayed.
}

// Geocoordinates for a particular address.
message GeoCoordinates {
    double latitude = 1 [(wix.api.pii) = true]; // Latitude.
    double longitude = 2 [(wix.api.pii) = true]; // Longitude.
}

// Where the extra text should be displayed: before, after or instead of the actual address.
enum PlacementType {
    BEFORE = 0;
    AFTER = 1;
    REPLACE = 2;
}

/*
    Time periods that this location is open for business. Includes a collection of TimePeriod instances.
    Aligned with https://developers.google.com/my-business/reference/rest/v4/accounts.locations#businesshours
    With a few minor adjustments
*/
message BusinessSchedule {
    repeated TimePeriod periods = 1; /*
        Times that this location is open. Each period represents a range of hours when the location is
        open during the week. Limited to 100 time periods.
    */
    repeated SpecialHourPeriod special_hour_period = 2; // Exceptions to the business's regular hours.
}

/*
   A span of time that the business is open,
   starting on the specified open day/time and closing on the specified close day/time.
   Closing time must occur after the opening time, for example later in the same day, or on a subsequent day.
*/
message TimePeriod {
    DayOfWeek open_day = 1; // Day of the week this period starts on.
    string open_time = 2; /*
        Time in 24hr ISO 8601 extended format (hh:mm). Valid values are 00:00-24:00, where 24:00 represents
        midnight at the end of the specified day field.
    */
    DayOfWeek close_day = 3; // Day of the week this period ends on.
    string close_time = 4; /*
        Time in 24hr ISO 8601 extended format (hh:mm). Valid values are 00:00-24:00, where 24:00 represents
        midnight at the end of the specified day field.
    */
}

// Set of time periods when a location's operational hours differ from its normal business hours.
message SpecialHourPeriod {
    string start_date = 1; // Date and Time in 24hr iso-8601 Coordinated universal time (UTC)
    string end_date = 2; // Date and Time in 24hr iso-8601 Coordinated universal time (UTC)
    bool is_closed = 3;
    string comment = 4;
}

// Enumerates the days of the week.
enum DayOfWeek {
    MONDAY = 0;
    TUESDAY = 1;
    WEDNESDAY = 2;
    THURSDAY = 3;
    FRIDAY = 4;
    SATURDAY = 5;
    SUNDAY = 6;
}

message ConsentPolicy {
    google.protobuf.BoolValue essential = 1; // Whether the site uses cookies that are essential to site operation.
    google.protobuf.BoolValue functional = 2; // Whether the site uses cookies that affect site performance and other functional measurements.
    google.protobuf.BoolValue analytics = 3; //  Whether the site uses cookies that collect analytics about how the site is used (in order to improve it).
    google.protobuf.BoolValue advertising = 4; // Whether the site uses cookies that collect information allowing better customization of the experience for a current visitor.
    google.protobuf.BoolValue data_to_third_party = 5; // CCPA compliance flag.
}

message Properties {
    Categories categories = 1; // Site categories.
    Locale locale = 2; // Selected locale.
    google.protobuf.StringValue language = 3; // Selected language code (ISO 639-1).
    google.protobuf.StringValue payment_currency = 4; // Selected currency code (ISO 4217) to bill customers of this site.
    google.protobuf.StringValue time_zone = 5; // Time zone.
    google.protobuf.StringValue email = 6 [(wix.api.pii) = true]; // Publicly-available business email address.
    google.protobuf.StringValue phone = 7 [(wix.api.pii) = true]; // Publicly-available business phone number.
    google.protobuf.StringValue fax = 8 [(wix.api.pii) = true]; // Publicly-available business fax number.
    Address address = 9; // Publicly-available business address.
    google.protobuf.StringValue site_display_name = 10; // Site display name.
    google.protobuf.StringValue business_name = 11; // Business name.
    google.protobuf.StringValue logo = 12; // Path to the site's logo in Wix Media (without Wix Media base URL).
    google.protobuf.StringValue description = 13; // Site description.
    BusinessSchedule business_schedule = 14; //Represents the time periods that this location is open for business. Holds a collection of TimePeriod instances.
    Multilingual multilingual = 15; // Supported languages of a site and the primary language.
    ConsentPolicy consent_policy = 17; // Cookie policy the site owner defined for their site (before the users interacts with/limits it).
}
