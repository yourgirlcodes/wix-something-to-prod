syntax = "proto3";

package com.wix.bookings.schedules.api.v1;

import "wix/api/validations.proto";
import "google/protobuf/timestamp.proto";
import "com/wix/bookings/schedules/api/v1/entities/properties/frequency.proto";
import "com/wix/bookings/schedules/api/v1/entities/properties/linkedSchedule.proto";
import "com/wix/bookings/schedules/api/v1/entities/properties/interval.proto";

message RecurringInterval {
    string id = 1 [(.wix.api.readOnly) = true]; //The recurring interval identifier.
    google.protobuf.Timestamp start = 2; //The start time of the recurring interval. Required.
    google.protobuf.Timestamp end = 3; //The end time of the recurring interval. Optional. Empty value indicates that there is no end time.
    Interval interval = 5; //The interval rules. The day, hour and minutes the interval is recurring.
    Frequency frequency = 6; //The frequency of the interval. Optional. The default is frequency with the default repetition.
    repeated LinkedSchedule affected_schedules = 8; //Specifies the list of linked schedules and the way this link affects the corresponding schedules' availability. Can be calculated from the schedule or overridden on the recurring interval.
   //The type of recurring interval.
   //<!--ONLY:VELO
   //One of:
   // - `"UNDEFINED"` The default value. Sessions for this interval will be of type EVENT.
   // - `"EVENT"` A recurring interval of events.
   // - `"WORKING_HOURS"` A recurring interval for availability.
   //<!--END:ONLY:VELO-->
    RecurringIntervalType interval_type = 9;

    enum RecurringIntervalType {
        //The default value. Sessions for this interval will be of type EVENT.
        UNDEFINED = 0;
        //A recurring interval of events
        EVENT = 1;
        //Deprecated
        TIME_AVAILABILITY = 2 [deprecated = true];
        //A recurring interval for availability
        AVAILABILITY = 3;
    }
}
