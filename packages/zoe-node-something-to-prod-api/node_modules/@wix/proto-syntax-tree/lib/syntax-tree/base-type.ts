import {SourceCodeInfo, Type} from '../api';
import {fullyQualifiedName} from './names';
import {DetailedSourceCodeInfo} from './source-code-details';

interface Named {
  name: string;
}

export abstract class BaseType {
  readonly name: string;
  readonly fqn: string;

  protected constructor(named: Named, parent: Type | null) {
    this.name = named.name;
    this.fqn = fullyQualifiedName(parent, this.name);
  }

  get sourceCode(): SourceCodeInfo {
    return this.detailedSourceCode.mySourceCodeInfo;
  }

  protected abstract readonly detailedSourceCode: DetailedSourceCodeInfo;
}



